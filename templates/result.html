<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Ù†ØªÙŠØ¬Ø© ÙØ­Øµ Ø§Ù„Ø«ØºØ±Ø§Øª</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { background: #f8f9fa; font-family: Arial, sans-serif; }
        pre { background: #212529; color: #e9ecef; padding: 15px; border-radius: 6px; overflow: auto; direction: ltr; }
        .vuln { padding: 10px; border-left: 4px solid #dc3545; background: #f8d7da; margin-bottom: 10px; }
    </style>
</head>
<body class="p-4">
    <div class="container">
        <h1 class="mb-4">Ù†ØªÙŠØ¬Ø© ÙØ­Øµ Ø§Ù„Ø«ØºØ±Ø§Øª</h1>

        <div class="mb-3">
            <strong>Ø§Ù„Ø­Ø§Ù„Ø©:</strong>
            {% if predicted_type != 'Secure' %}
                <span class="text-danger">ğŸ”´ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø«ØºØ±Ø©</span>
            {% else %}
                <span class="text-success">ğŸŸ¢ ÙƒÙˆØ¯ Ø¢Ù…Ù†</span>
            {% endif %}
        </div>

        <div class="mb-3">
            <strong>Ù†ÙˆØ¹ Ø§Ù„Ø«ØºØ±Ø© Ø§Ù„Ù…ØªÙˆÙ‚ÙÙ‘Ø¹:</strong> {{ predicted_type }}
        </div>

        <div class="mb-3">
            <strong>Ø¯Ø±Ø¬Ø© Ø§Ù„Ø«Ù‚Ø©:</strong> {{ (confidence * 100)|round(2) }}%
        </div>

        <hr>

        <h3>Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ù…ÙÙØ­Øµ</h3>
        <pre>{{ code }}</pre>

        <hr>

        <h3>ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø«ØºØ±Ø§Øª ({{ vulnerabilities|length }})</h3>
        {% if vulnerabilities %}
            {% for v in vulnerabilities %}
                <div class="vuln">
                    <strong>Ø§Ù„Ø³Ø·Ø± {{ v.line }} â€” {{ v.type }}</strong><br>
                    <code>{{ v.snippet }}</code>
                </div>
            {% endfor %}
        {% else %}
            <div class="alert alert-success">Ù„Ù… ÙŠØªÙ… Ø§Ù„ÙƒØ´Ù Ø¹Ù† Ø«ØºØ±Ø§Øª Ù…Ø­Ø¯Ø¯Ø©ØŒ ÙŠÙÙ†ØµØ­ Ø¨Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„ÙŠØ¯ÙˆÙŠØ©.</div>
        {% endif %}

        <a href="{{ url_for('index') }}" class="btn btn-secondary mt-3">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„ÙØ­Øµ Ù…Ø¬Ø¯Ø¯Ø§Ù‹</a>
    </div>
</body>
</html>
